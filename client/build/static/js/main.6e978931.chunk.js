/*! For license information please see main.6e978931.chunk.js.LICENSE.txt */
(this.webpackJsonpprojectchoice=this.webpackJsonpprojectchoice||[]).push([[0],{47:function(e,t,r){e.exports=r.p+"static/media/fullLogo.b7a8a598.png"},51:function(e,t,r){e.exports=r.p+"static/media/spinner.ab497855.gif"},63:function(e,t,r){e.exports=r.p+"static/media/poster.a452b98a.jpeg"},75:function(e,t,r){e.exports=r(91)},83:function(e,t,r){},84:function(e,t,r){},85:function(e,t,r){},86:function(e,t,r){},89:function(e,t,r){},90:function(e,t,r){},91:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(62),c=r.n(o),i=(r(83),r(7)),l=r(16),u=r(5),s=r(68),f=r(102),m=r(104),h=r(101),d=r(65),p=(r(84),r(47)),v=r.n(p);r(85);var g=function(){return a.a.createElement("div",{className:"homepage w-full p-6 md:h-screen"},a.a.createElement("div",{className:"p-0 "},a.a.createElement("div",{className:"pb-10 pt-20 flex justify-center w-full h-full homepage-logo"},a.a.createElement("img",{className:"homepageLogo",src:v.a,style:{width:"350px",height:"350px"},alt:"cover"})),a.a.createElement("div",null,a.a.createElement("div",{className:"hidden sm:block","aria-hidden":"true"},a.a.createElement("div",{className:"p-0"},a.a.createElement("div",{className:"border-8 border-double border-red-200"}))))),a.a.createElement("div",{className:"w-full h-screen justify-center items-center p-4 flex-row columns-2"},a.a.createElement("div",{className:"flex flex-col justify-center items-center"},a.a.createElement("div",{className:"overflow-hidden border-8 border-double sm:rounded-md"},a.a.createElement("div",{className:"bg-white px-4 py-5 sm:p-6"},a.a.createElement("div",{className:"font-extrabold leading-10"},"ABORTION IS HEALTH CARE."),"At Project Choice we believe in body autonomy and the womans absolute right to chose. The last thing that should stand in your way is lack of information, and so our project was born.",a.a.createElement("br",null),a.a.createElement("br",null),"By filling out this form you will be connected with clinics closest to you, laws in your area, and many other resources to help keep you safe and healthy.",a.a.createElement("br",null),a.a.createElement("br",null),"If you have any additional questions, please contact us!"))),a.a.createElement("div",{className:"flex flex-col justify-center items-center"},a.a.createElement("div",{className:"overflow-hidden border-8 border-double sm:rounded-md justify-center items-center"},a.a.createElement("div",{className:"bg-white px-4 py-5 sm:p-6 justify-center items-center"},a.a.createElement("div",{className:"font-extrabold leading-10"},"To find out more about abortion regulations in your State select your State below below."),a.a.createElement("select",{id:"period",className:"mt-1 block w-full rounded-md border-4 bg-white py-2 px-3 shadow-sm  sm:text-sm"},a.a.createElement("option",{value:"AL"},"Alabama"),a.a.createElement("option",{value:"AK"},"Alaska"),a.a.createElement("option",{value:"AZ"},"Arizona"),a.a.createElement("option",{value:"AR"},"Arkansas"),a.a.createElement("option",{value:"CA"},"California"),a.a.createElement("option",{value:"CO"},"Colorado"),a.a.createElement("option",{value:"CT"},"Connecticut"),a.a.createElement("option",{value:"DE"},"Delaware"),a.a.createElement("option",{value:"DC"},"District of Columbia"),a.a.createElement("option",{value:"FL"},"Florida"),a.a.createElement("option",{value:"GA"},"Georgia"),a.a.createElement("option",{value:"HI"},"Hawaii"),a.a.createElement("option",{value:"ID"},"Idaho"),a.a.createElement("option",{value:"IL"},"Illinois"),a.a.createElement("option",{value:"IN"},"Indiana"),a.a.createElement("option",{value:"IA"},"Iowa"),a.a.createElement("option",{value:"KS"},"Kansas"),a.a.createElement("option",{value:"KY"},"Kentucky"),a.a.createElement("option",{value:"LA"},"Louisiana"),a.a.createElement("option",{value:"ME"},"Maine"),a.a.createElement("option",{value:"MD"},"Maryland"),a.a.createElement("option",{value:"MA"},"Massachusetts"),a.a.createElement("option",{value:"MI"},"Michigan"),a.a.createElement("option",{value:"MN"},"Minnesota"),a.a.createElement("option",{value:"MS"},"Mississippi"),a.a.createElement("option",{value:"MO"},"Missouri"),a.a.createElement("option",{value:"MT"},"Montana"),a.a.createElement("option",{value:"NE"},"Nebraska"),a.a.createElement("option",{value:"NV"},"Nevada"),a.a.createElement("option",{value:"NH"},"New Hampshire"),a.a.createElement("option",{value:"NJ"},"New Jersey"),a.a.createElement("option",{value:"NM"},"New Mexico"),a.a.createElement("option",{value:"NY"},"New York"),a.a.createElement("option",{value:"NC"},"North Carolina"),a.a.createElement("option",{value:"ND"},"North Dakota"),a.a.createElement("option",{value:"OH"},"Ohio"),a.a.createElement("option",{value:"OK"},"Oklahoma"),a.a.createElement("option",{value:"OR"},"Oregon"),a.a.createElement("option",{value:"PA"},"Pennsylvania"),a.a.createElement("option",{value:"RI"},"Rhode Island"),a.a.createElement("option",{value:"SC"},"South Carolina"),a.a.createElement("option",{value:"SD"},"South Dakota"),a.a.createElement("option",{value:"TN"},"Tennessee"),a.a.createElement("option",{value:"TX"},"Texas"),a.a.createElement("option",{value:"UT"},"Utah"),a.a.createElement("option",{value:"VT"},"Vermont"),a.a.createElement("option",{value:"VA"},"Virginia"),a.a.createElement("option",{value:"WA"},"Washington"),a.a.createElement("option",{value:"WV"},"West Virginia"),a.a.createElement("option",{value:"WI"},"Wisconsin"),a.a.createElement("option",{value:"WY"},"Wyoming")),a.a.createElement("div",{className:"flex flex-col items-center"},a.a.createElement("a",{href:"/policies"},a.a.createElement("button",{className:"mt-10 mb-10 py-1 px-5 shadow-md shadow-[#dae8e3] text-black text-lg border-8 border-double border-[#dae8e3] hover:bg-[#dae8e3] hover:text-black hover:shadow-md hover:shadow-[#e9ecef]"},"Policies"))))))))},y=function(){return a.a.createElement("div",{className:"w-full h-screen bg-[#2b2b2b] text-black flex justify-center items-center p-4"},a.a.createElement("div",{className:"flex flex-col justify-center items-center  w-full h-full"},a.a.createElement("div",{className:"max-w-[1000px] w-full"},a.a.createElement("form",{method:"POST",action:"https://getform.io/f/2b4f2cee-0e5e-4370-84ba-7469f7a5f3a2",className:"flex flex-col max-w-[1000px] w-full items-center"},a.a.createElement("div",{className:"text-center"},a.a.createElement("h2",{className:"text-4xl inline border-b-4 border-[#dc585d] py-2"},"Contact"),a.a.createElement("p",{className:"py-6"},"Please feel free to fill out the form to get in contact with us!")),a.a.createElement("input",{className:"w-2/3 mb-4 p-3 text-[#2b2b2b] shadow-md shadow-[#dae8e3] border-8 border-double border-[#dae8e3]",type:"text",placeholder:"Name",name:"name"}),a.a.createElement("input",{className:"w-2/3 mb-4 p-3 text-[#2b2b2b] shadow-md shadow-[#dae8e3] border-8 border-double border-[#dae8e3]",type:"email",placeholder:"Email",name:"email"}),a.a.createElement("textarea",{className:"w-2/3 mb-4 p-3 text-[#2b2b2b] shadow-md shadow-[#dae8e3] border-8 border-double border-[#dae8e3]",name:"message",rows:"15",placeholder:"Your message.."}),a.a.createElement("button",{className:"text-center w-1/3 py-2 shadow-md shadow-[#dae8e3] text-black text-lg border-8 border-double border-[#dae8e3] hover:bg-[#dae8e3] hover:text-black hover:shadow-md hover:shadow-[#e9ecef]"},"Submit")))))},b=r(63),E=r.n(b);r(86);var w=function(){return a.a.createElement("div",{name:"about-tiles",className:"w-full mb-6 p-6 md:h-screen text-[#2b2b2b]"},a.a.createElement("div",{className:"mt-12 p-6 flex flex-col justify-center w-full h-full"},a.a.createElement("div",{className:"about-heading pb-12 text-center"},a.a.createElement("h2",{className:"text-4xl inline border-b-4 border-[#dc585d] py-2"},"About Project Choice")),a.a.createElement("div",{className:"pb-6 grid grid-cols-2 auto-cols-max gap-x-4 gap-y-8"},a.a.createElement("div",{className:"shadow-lg shadow-[#dae8e3] group container flex justify-center text-center items-center mx-auto border-8 border-double border-[#dae8e3]"},a.a.createElement("img",{className:"homepageLogo",src:v.a,style:{width:"300px",height:"300px"},alt:"cover"}),a.a.createElement("div",{className:"pt-8 text-center "}))),a.a.createElement("div",{className:"p-4 shadow-lg shadow-[#dae8e3] group container flex justify-center text-center items-center mx-auto border-8 border-double border-[#dae8e3]"},a.a.createElement("h2",null,"At Project Choice we believe in body autonomy and the womans absolute right to chose. The last thing that should stand in your way is lack of information, and so our project was born.")),a.a.createElement("div",{className:"p-4 shadow-lg shadow-[#dae8e3] group container flex justify-center text-center items-center mx-auto border-8 border-double border-[#dae8e3] "},a.a.createElement("h2",null,"We partner with companies that believe abortion is health care. On top of giving you to date information about Clinics and services near you, we also donate 100% of the proceeds from our shop to the National Abortion Federation.")),a.a.createElement("div",{className:"p-4 shadow-lg shadow-[#dae8e3] group container flex justify-center text-center items-center mx-auto border-8 border-double border-[#dae8e3]"},a.a.createElement("div",null,a.a.createElement("img",{className:"homepageLogo",src:E.a,style:{width:"300px",height:"300px"},alt:"cover"})))))},x=r(25),O=r(26),j=r(52),N=r.n(j),_=new(function(){function e(){Object(x.a)(this,e)}return Object(O.a)(e,[{key:"getProfile",value:function(){return N()(this.getToken())}},{key:"loggedIn",value:function(){var e=this.getToken();return!!e&&!this.isTokenExpired(e)}},{key:"isTokenExpired",value:function(e){try{return N()(e).exp<Date.now()/1e3}catch(t){return!1}}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"login",value:function(e){localStorage.setItem("id_token",e),window.location.assign("/")}},{key:"logout",value:function(){localStorage.removeItem("id_token"),window.location.assign("/")}}]),e}());var L=function(){return a.a.createElement("ul",{className:"flex-row"},a.a.createElement("li",{className:"nav-link"},a.a.createElement("a",{href:"/"},"Home")),a.a.createElement("li",{className:"nav-link"},a.a.createElement("a",{href:"/about"},"About")),a.a.createElement("li",{className:"nav-link"},a.a.createElement("a",{href:"/policies"},"Policies")),a.a.createElement("li",{className:"nav-link"},a.a.createElement("a",{href:"/contact"},"Contact")),a.a.createElement("li",{className:"nav-link"},a.a.createElement("a",{href:"/shop"},"Shop")),a.a.createElement("li",{className:"nav-link"},a.a.createElement("a",{href:"/login"},"Login")),a.a.createElement("li",{className:"nav-link"},a.a.createElement("a",{href:"/signup"},"Sign Up")),a.a.createElement("li",{className:"mx-1"},a.a.createElement(l.b,{to:"/orderHistory"},"Order History")),a.a.createElement("li",{className:"mx-1"},a.a.createElement("a",{href:"/",onClick:function(){return _.logout()}},"Logout")))},k=(r(89),function(){return a.a.createElement("footer",{className:"p-4 bg-[#f6f6f6] sm:p-6 dark:bg-gray-900"},a.a.createElement("div",{className:"bg-[#f6f6f6] md:flex md:justify-between"},a.a.createElement("div",{className:"bg-[#f6f6f6] grid grid-cols-2 gap-8 sm:gap-6 sm:grid-cols-3"},a.a.createElement("div",{className:"bg-[#f6f6f6]"},a.a.createElement("h2",{className:"mb-6 text-sm font-semibold text-gray-900 uppercase dark:text-white bg-[#f6f6f6]"},"Resources"),a.a.createElement("ul",{className:"text-gray-600 dark:text-gray-400 bg-[#f6f6f6]"},a.a.createElement("li",{className:"mb-4 bg-[#f6f6f6]"},a.a.createElement("a",{href:"https://www.plannedparenthood.org/learn/abortion",className:"hover:underline bg-[#f6f6f6]"},"Planned Parenthood")),a.a.createElement("li",{className:"bg-[#f6f6f6]"},a.a.createElement("a",{href:"https://prochoice.org/",className:"hover:underline bg-[#f6f6f6]"},"National Abortion Federation")))),a.a.createElement("div",{className:"bg-[#f6f6f6]"},a.a.createElement("h2",{className:"mb-6 text-sm font-semibold text-[#f6f6f6] uppercase dark:text-white bg-[#f6f6f6]"},"Follow us"),a.a.createElement("ul",{className:"text-gray-600 dark:text-gray-400 bg-[#f6f6f6]"},a.a.createElement("li",{className:"mb-4 bg-[#f6f6f6]"},a.a.createElement("a",{href:"https://www.hopewomenscenters.com/",className:"hover:underline bg-[#f6f6f6]"},"Hope Women's Centers")),a.a.createElement("li",{className:"bg-[#f6f6f6]"},a.a.createElement("a",{href:"https://abortionfunds.org/need-abortion/",className:"hover:underline bg-[#f6f6f6]"},"Abortion Funds")))),a.a.createElement("div",{className:"bg-[#f6f6f6]"},a.a.createElement("h2",{className:"mb-6 text-sm font-semibold text-[#f6f6f6] uppercase dark:text-white bg-[#f6f6f6]"},"Legal"),a.a.createElement("ul",{className:"text-gray-600 dark:text-gray-400 bg-[#f6f6f6]"},a.a.createElement("li",{className:"mb-4 bg-[#f6f6f6]"},a.a.createElement("a",{href:"https://www.instagram.com/prochoiceamerica/?hl=en",className:"hover:underline bg-[#f6f6f6]"},"Pro-Choice America Instagram")),a.a.createElement("li",{className:"bg-[#f6f6f6]"},a.a.createElement("a",{href:"https://exhaleprovoice.org/resources/",className:"hover:underline bg-[#f6f6f6]"},"Support after Abortion")))))),a.a.createElement("hr",{className:"my-6 border-gray-200 sm:mx-auto dark:border-gray-700 lg:my-8 bg-[#f6f6f6]"}),a.a.createElement("div",{className:"sm:flex sm:items-center sm:justify-between bg-[#f6f6f6]"},a.a.createElement("span",{className:"text-sm text-gray-500 sm:text-center dark:text-gray-400 bg-[#f6f6f6]"},"\xa9 2022 ",a.a.createElement("a",{href:"#",className:"hover:underline bg-[#f6f6f6]"},"Projects Choice"),". All Rights Reserved."),a.a.createElement("div",{className:"flex mt-4 space-x-6 sm:justify-center sm:mt-0 bg-[#f6f6f6]"},a.a.createElement("a",{href:"#",className:"text-gray-500 hover:text-gray-900 dark:hover:text-white bg-[#f6f6f6]"},a.a.createElement("svg",{className:"w-5 h-5 bg-[#f6f6f6]",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true"},a.a.createElement("path",{"fill-rule":"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z","clip-rule":"evenodd"})),a.a.createElement("span",{className:"sr-only"},"GitHub account")))))}),T=r(6),A=r(70);function C(e,t,r){return new Promise((function(n,a){var o,c,i,l=window.indexedDB.open("project-choice",1);l.onupgradeneeded=function(e){var t=l.result;t.createObjectStore("products",{keyPath:"_id"}),t.createObjectStore("categories",{keyPath:"_id"}),t.createObjectStore("cart",{keyPath:"_id"})},l.onerror=function(e){console.log("There was an error")},l.onsuccess=function(a){switch(o=l.result,c=o.transaction(e,"readwrite"),i=c.objectStore(e),o.onerror=function(e){console.log("error",e)},t){case"put":i.put(r),n(r);break;case"get":var u=i.getAll();u.onsuccess=function(){n(u.result)};break;case"delete":i.delete(r._id);break;default:console.log("No valid method")}c.oncomplete=function(){o.close()}}}))}var S=r(69),P=r(14),I=function(e,t){switch(t.type){case"UPDATE_PRODUCTS":return Object(i.a)(Object(i.a)({},e),{},{products:Object(P.a)(t.products)});case"ADD_TO_CART":return Object(i.a)(Object(i.a)({},e),{},{cartOpen:!0,cart:[].concat(Object(P.a)(e.cart),[t.product])});case"ADD_MULTIPLE_TO_CART":return Object(i.a)(Object(i.a)({},e),{},{cart:[].concat(Object(P.a)(e.cart),Object(P.a)(t.products))});case"CLEAR_CART":return Object(i.a)(Object(i.a)({},e),{},{cartOpen:!1,cart:[]});case"TOGGLE_CART":return Object(i.a)(Object(i.a)({},e),{},{cartOpen:!e.cartOpen});case"UPDATE_CATEGORIES":return Object(i.a)(Object(i.a)({},e),{},{categories:Object(P.a)(t.categories)});case"UPDATE_CURRENT_CATEGORY":return Object(i.a)(Object(i.a)({},e),{},{currentCategory:t.currentCategory});case"REMOVE_FROM_CART":var r=e.cart.filter((function(e){return e._id!==t._id}));return Object(i.a)(Object(i.a)({},e),{},{cartOpen:r.length>0,cart:r});case"UPDATE_CART_QUANTITY":return Object(i.a)(Object(i.a)({},e),{},{cartOpen:!0,cart:e.cart.map((function(e){return t._id===e._id&&(e.purchaseQuantity=t.purchaseQuantity),e}))});default:return e}};var R=["value"],D=Object(n.createContext)(),G=D.Provider,F=function(e){e.value;var t,r=Object(S.a)(e,R),o=(t={products:[],cart:[],cartOpen:!1,categories:[],currentCategory:""},Object(n.useReducer)(I,t)),c=Object(T.a)(o,2),i=c[0],l=c[1];return console.log(i),a.a.createElement(G,Object.assign({value:[i,l]},r))},U=function(){return Object(n.useContext)(D)};var M,Q,Y,W,$,H=function(e){var t=e.image,r=e.name,n=e._id,o=e.price,c=e.quantity,u=U(),s=Object(T.a)(u,2),f=s[0],m=s[1],h=f.cart;return a.a.createElement("div",{className:"card px-1 py-1"},a.a.createElement(l.b,{to:"/products/".concat(n)},a.a.createElement("img",{alt:r,src:"/images/".concat(t)}),a.a.createElement("p",null,r)),a.a.createElement("div",null,a.a.createElement("div",null,c," ",function(e,t){return 1===t?e:e+"s"}("item",c)," in stock"),a.a.createElement("span",null,"$",o)),a.a.createElement("button",{onClick:function(){var t=h.find((function(e){return e._id===n}));t?(m({type:"UPDATE_CART_QUANTITY",_id:n,purchaseQuantity:parseInt(t.purchaseQuantity)+1}),C("cart","put",Object(i.a)(Object(i.a)({},t),{},{purchaseQuantity:parseInt(t.purchaseQuantity)+1}))):(m({type:"ADD_TO_CART",product:Object(i.a)(Object(i.a)({},e),{},{purchaseQuantity:1})}),C("cart","put",Object(i.a)(Object(i.a)({},e),{},{purchaseQuantity:1})))}},"Add to cart"))},q=r(24),V=r(103),B=Object(V.a)(M||(M=Object(q.a)(["\n  query getProducts($category: ID) {\n    products(category: $category) {\n      _id\n      name\n      description\n      price\n      quantity\n      image\n      category {\n        _id\n      }\n    }\n  }\n"]))),J=(Object(V.a)(Q||(Q=Object(q.a)(["\n  {\n    products {\n      _id\n      name\n      description\n      price\n      quantity\n      category {\n        name\n      }\n    }\n  }\n"]))),Object(V.a)(Y||(Y=Object(q.a)(["\n  {\n    categories {\n      _id\n      name\n    }\n  }\n"])))),K=Object(V.a)(W||(W=Object(q.a)(["\n  {\n    user {\n      email\n      orders {\n        _id\n        purchaseDate\n        products {\n          _id\n          name\n          description\n          price\n          quantity\n          image\n        }\n      }\n    }\n  }\n"]))),z=Object(V.a)($||($=Object(q.a)(["\n  query getCheckout($products: [ID]!) {\n    checkout(products: $products) {\n      session\n    }\n  }\n"]))),Z=r(51),X=r.n(Z);var ee=function(){var e=U(),t=Object(T.a)(e,2),r=t[0],o=t[1],c=r.currentCategory,i=Object(A.b)(B),l=i.loading,u=i.data;return Object(n.useEffect)((function(){u?(o({type:"UPDATE_PRODUCTS",products:u.products}),u.products.forEach((function(e){C("products","put",e)}))):l||C("products","get").then((function(e){o({type:"UPDATE_PRODUCTS",products:e})}))}),[u,l,o]),a.a.createElement("div",{className:"my-2"},a.a.createElement("h2",null,"Our Products:"),r.products.length?a.a.createElement("div",{className:"flex-row"},(c?r.products.filter((function(e){return e.category._id===c})):r.products).map((function(e){return a.a.createElement(H,{key:e._id,_id:e._id,image:e.image,name:e.name,price:e.price,quantity:e.quantity})}))):a.a.createElement("h3",null,"You haven't added any products yet!"),l?a.a.createElement("img",{src:X.a,alt:"loading"}):null)};var te=function(){var e=U(),t=Object(T.a)(e,2),r=t[0],o=t[1],c=r.categories,i=Object(A.b)(J),l=i.loading,u=i.data;return Object(n.useEffect)((function(){u?(o({type:"UPDATE_CATEGORIES",categories:u.categories}),u.categories.forEach((function(e){C("categories","put",e)}))):l||C("categories","get").then((function(e){o({type:"UPDATE_CATEGORIES",categories:e})}))}),[u,l,o]),a.a.createElement("div",null,a.a.createElement("h2",null,"Choose a Category:"),c.map((function(e){return a.a.createElement("button",{key:e._id,onClick:function(){var t;t=e._id,o({type:"UPDATE_CURRENT_CATEGORY",currentCategory:t})}},e.name)})))},re=r(13),ne=r(64),ae=r(98),oe=function(e){var t=e.item,r=U(),n=Object(T.a)(r,2)[1];return a.a.createElement("div",{className:"flex-row"},a.a.createElement("div",null,a.a.createElement("img",{src:"/images/".concat(t.image),alt:""})),a.a.createElement("div",null,a.a.createElement("div",null,t.name,", $",t.price),a.a.createElement("div",null,a.a.createElement("span",null,"Qty:"),a.a.createElement("input",{type:"number",placeholder:"1",value:t.purchaseQuantity,onChange:function(e){var r=e.target.value;"0"===r?(n({type:"REMOVE_FROM_CART",_id:t._id}),C("cart","delete",Object(i.a)({},t))):(n({type:"UPDATE_CART_QUANTITY",_id:t._id,purchaseQuantity:parseInt(r)}),C("cart","put",Object(i.a)(Object(i.a)({},t),{},{purchaseQuantity:parseInt(r)})))}}),a.a.createElement("span",{role:"img","aria-label":"trash",onClick:function(){return function(e){n({type:"REMOVE_FROM_CART",_id:e._id}),C("cart","delete",Object(i.a)({},e))}(t)}},"\ud83d\uddd1\ufe0f"))))};r(90);function ce(){ce=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof m?t:m,c=Object.create(o.prototype),i=new N(a||[]);return n(c,"_invoke",{value:w(e,r,i)}),c}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function m(){}function h(){}function d(){}var p={};l(p,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(_([])));g&&g!==t&&r.call(g,o)&&(p=g);var y=d.prototype=m.prototype=Object.create(p);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function c(){return new t((function(a,c){!function n(a,o,c,i){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,c,i)}),(function(e){n("throw",e,c,i)})):t.resolve(f).then((function(e){u.value=e,c(u)}),(function(e){return n("throw",e,c,i)}))}i(l.arg)}(n,o,a,c)}))}return a=a?a.then(c,c):c()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var c=r.delegate;if(c){var i=x(c,r);if(i){if(i===f)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,f;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,n(y,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,c,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var c=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?c:c.next().then((function(e){return e.done?e.value:c.next()}))},b(y),l(y,i,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=_,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return c.type="throw",c.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],c=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var i=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(i&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:_(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var ie=Object(ne.a)("pk_live_51Ly1taCwWJ9DSQafQ57gfY5V2rFtaGIZlZFmccnsL6XqIOAJqEb1nQV6UFglxuGb7fUMomduryFiYadySk0g7hQj004FujWrWc"),le=function(){var e=U(),t=Object(T.a)(e,2),r=t[0],o=t[1],c=Object(ae.a)(z),i=Object(T.a)(c,2),l=i[0],u=i[1].data;function s(){o({type:"TOGGLE_CART"})}return Object(n.useEffect)((function(){u&&ie.then((function(e){e.redirectToCheckout({sessionId:u.checkout.session})}))}),[u]),Object(n.useEffect)((function(){function e(){return(e=Object(re.a)(ce().mark((function e(){var t;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C("cart","get");case 2:t=e.sent,o({type:"ADD_MULTIPLE_TO_CART",products:Object(P.a)(t)});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}r.cart.length||function(){e.apply(this,arguments)}()}),[r.cart.length,o]),r.cartOpen?a.a.createElement("div",{className:"cart"},a.a.createElement("div",{className:"close",onClick:s},"[close]"),a.a.createElement("h2",null,"Shopping Cart"),r.cart.length?a.a.createElement("div",null,r.cart.map((function(e){return a.a.createElement(oe,{key:e._id,item:e})})),a.a.createElement("div",{className:"flex-row space-between"},a.a.createElement("strong",null,"Total: $",function(){var e=0;return r.cart.forEach((function(t){e+=t.price*t.purchaseQuantity})),e.toFixed(2)}()),_.loggedIn()?a.a.createElement("button",{onClick:function(){var e=[];console.log(e),r.cart.forEach((function(t){for(var r=0;r<t.purchaseQuantity;r++)e.push(t._id)})),l({variables:{products:e}})}},"Checkout"):a.a.createElement("span",null,"(log in to check out)"))):a.a.createElement("h3",null,a.a.createElement("span",{role:"img","aria-label":"shocked"},"\ud83d\ude31"),"You haven't added anything to your cart yet!")):a.a.createElement("div",{className:"cart-closed",onClick:s},a.a.createElement("span",{role:"img","aria-label":"trash"},"\ud83d\uded2"))},ue=function(){return a.a.createElement("div",{className:"container"},a.a.createElement(te,null),a.a.createElement(ee,null),a.a.createElement(le,null))};var se=function(){var e=U(),t=Object(T.a)(e,2),r=t[0],o=t[1],c=Object(u.o)().id,s=Object(n.useState)({}),f=Object(T.a)(s,2),m=f[0],h=f[1],d=Object(A.b)(B),p=d.loading,v=d.data,g=r.products,y=r.cart;return Object(n.useEffect)((function(){g.length?h(g.find((function(e){return e._id===c}))):v?(o({type:"UPDATE_PRODUCTS",products:v.products}),v.products.forEach((function(e){C("products","put",e)}))):p||C("products","get").then((function(e){o({type:"UPDATE_PRODUCTS",products:e})}))}),[g,v,p,o,c]),a.a.createElement(a.a.Fragment,null,m?a.a.createElement("div",{className:"container my-1"},a.a.createElement(l.b,{to:"/"},"\u2190 Back to Products"),a.a.createElement("h2",null,m.name),a.a.createElement("p",null,m.description),a.a.createElement("p",null,a.a.createElement("strong",null,"Price:"),"$",m.price," ",a.a.createElement("button",{onClick:function(){var e=y.find((function(e){return e._id===c}));e?(o({type:"UPDATE_CART_QUANTITY",_id:c,purchaseQuantity:parseInt(e.purchaseQuantity)+1}),C("cart","put",Object(i.a)(Object(i.a)({},e),{},{purchaseQuantity:parseInt(e.purchaseQuantity)+1}))):(o({type:"ADD_TO_CART",product:Object(i.a)(Object(i.a)({},m),{},{purchaseQuantity:1})}),C("cart","put",Object(i.a)(Object(i.a)({},m),{},{purchaseQuantity:1})))}},"Add to cart"),a.a.createElement("button",{disabled:!y.find((function(e){return e._id===m._id})),onClick:function(){o({type:"REMOVE_FROM_CART",_id:m._id}),C("cart","delete",Object(i.a)({},m))}},"Remove from Cart")),a.a.createElement("img",{src:"/images/".concat(m.image),alt:m.name})):null,p?a.a.createElement("img",{src:X.a,alt:"loading"}):null,a.a.createElement(le,null))};var fe,me,he,de=function(e){var t=e.children;return a.a.createElement("div",{style:{height:560,clear:"both",paddingTop:120,textAlign:"center"}},t)},pe=function(){return a.a.createElement("div",null,a.a.createElement(de,null,a.a.createElement("h1",null,"404 Page Not Found"),a.a.createElement("h1",null,a.a.createElement("span",{role:"img","aria-label":"Face With Rolling Eyes Emoji"},"\ud83d\ude44"))))},ve=r(12),ge=r(99),ye=Object(V.a)(fe||(fe=Object(q.a)(["\n  mutation login($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      token\n      user {\n        _id\n      }\n    }\n  }\n"]))),be=Object(V.a)(me||(me=Object(q.a)(["\n  mutation addOrder($products: [ID]!) {\n    addOrder(products: $products) {\n      purchaseDate\n      products {\n        _id\n        name\n        description\n        price\n        quantity\n        category {\n          name\n        }\n      }\n    }\n  }\n"]))),Ee=Object(V.a)(he||(he=Object(q.a)(["\n  mutation addUser(\n    $email: String!\n    $password: String!\n  ) {\n    addUser(\n      email: $email\n      password: $password\n    ) {\n      token\n      user {\n        _id\n      }\n    }\n  }\n"])));function we(){we=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof m?t:m,c=Object.create(o.prototype),i=new N(a||[]);return n(c,"_invoke",{value:w(e,r,i)}),c}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function m(){}function h(){}function d(){}var p={};l(p,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(_([])));g&&g!==t&&r.call(g,o)&&(p=g);var y=d.prototype=m.prototype=Object.create(p);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function c(){return new t((function(a,c){!function n(a,o,c,i){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,c,i)}),(function(e){n("throw",e,c,i)})):t.resolve(f).then((function(e){u.value=e,c(u)}),(function(e){return n("throw",e,c,i)}))}i(l.arg)}(n,o,a,c)}))}return a=a?a.then(c,c):c()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var c=r.delegate;if(c){var i=x(c,r);if(i){if(i===f)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,f;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,n(y,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,c,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var c=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?c:c.next().then((function(e){return e.done?e.value:c.next()}))},b(y),l(y,i,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=_,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return c.type="throw",c.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],c=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var i=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(i&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:_(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var xe=function(e){var t=Object(n.useState)({email:"",password:""}),r=Object(T.a)(t,2),o=r[0],c=r[1],u=Object(ge.a)(ye),s=Object(T.a)(u,2),f=s[0],m=s[1].error,h=function(){var e=Object(re.a)(we().mark((function e(t){var r,n;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,f({variables:{email:o.email,password:o.password}});case 4:r=e.sent,n=r.data.login.token,_.login(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),d=function(e){var t=e.target,r=t.name,n=t.value;c(Object(i.a)(Object(i.a)({},o),{},Object(ve.a)({},r,n)))};return a.a.createElement("div",{className:"container my-1"},a.a.createElement(l.b,{to:"/signup"},"\u2190 Go to Signup"),a.a.createElement("h2",null,"Login"),a.a.createElement("form",{onSubmit:h},a.a.createElement("div",{className:"flex-row space-between my-2"},a.a.createElement("label",{htmlFor:"email"},"Email address:"),a.a.createElement("input",{placeholder:"youremail@test.com",name:"email",type:"email",id:"email",onChange:d})),a.a.createElement("div",{className:"flex-row space-between my-2"},a.a.createElement("label",{htmlFor:"pwd"},"Password:"),a.a.createElement("input",{placeholder:"******",name:"password",type:"password",id:"pwd",onChange:d})),m?a.a.createElement("div",null,a.a.createElement("p",{className:"error-text"},"The provided credentials are incorrect")):null,a.a.createElement("div",{className:"flex-row flex-end"},a.a.createElement("button",{type:"submit"},"Submit"))))};function Oe(){Oe=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof m?t:m,c=Object.create(o.prototype),i=new N(a||[]);return n(c,"_invoke",{value:w(e,r,i)}),c}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function m(){}function h(){}function d(){}var p={};l(p,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(_([])));g&&g!==t&&r.call(g,o)&&(p=g);var y=d.prototype=m.prototype=Object.create(p);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function c(){return new t((function(a,c){!function n(a,o,c,i){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,c,i)}),(function(e){n("throw",e,c,i)})):t.resolve(f).then((function(e){u.value=e,c(u)}),(function(e){return n("throw",e,c,i)}))}i(l.arg)}(n,o,a,c)}))}return a=a?a.then(c,c):c()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var c=r.delegate;if(c){var i=x(c,r);if(i){if(i===f)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,f;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,n(y,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,c,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var c=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?c:c.next().then((function(e){return e.done?e.value:c.next()}))},b(y),l(y,i,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=_,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return c.type="throw",c.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],c=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var i=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(i&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:_(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var je=function(e){var t=Object(n.useState)({email:"",password:""}),r=Object(T.a)(t,2),o=r[0],c=r[1],u=Object(ge.a)(Ee),s=Object(T.a)(u,1)[0],f=function(){var e=Object(re.a)(Oe().mark((function e(t){var r,n;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,s({variables:{email:o.email,password:o.password}});case 3:r=e.sent,n=r.data.addUser.token,_.login(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(e){var t=e.target,r=t.name,n=t.value;c(Object(i.a)(Object(i.a)({},o),{},Object(ve.a)({},r,n)))};return a.a.createElement("div",{className:"container my-1"},a.a.createElement(l.b,{to:"/login"},"\u2190 Go to Login"),a.a.createElement("h2",null,"Signup"),a.a.createElement("form",{onSubmit:f},a.a.createElement("div",{className:"flex-row space-between my-2"},a.a.createElement("label",{htmlFor:"email"},"Email:"),a.a.createElement("input",{placeholder:"youremail@test.com",name:"email",type:"email",id:"email",onChange:m})),a.a.createElement("div",{className:"flex-row space-between my-2"},a.a.createElement("label",{htmlFor:"pwd"},"Password:"),a.a.createElement("input",{placeholder:"******",name:"password",type:"password",id:"pwd",onChange:m})),a.a.createElement("div",{className:"flex-row flex-end"},a.a.createElement("button",{type:"submit"},"Submit"))))};function Ne(){Ne=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof m?t:m,c=Object.create(o.prototype),i=new N(a||[]);return n(c,"_invoke",{value:w(e,r,i)}),c}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=u;var f={};function m(){}function h(){}function d(){}var p={};l(p,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(_([])));g&&g!==t&&r.call(g,o)&&(p=g);var y=d.prototype=m.prototype=Object.create(p);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function c(){return new t((function(a,c){!function n(a,o,c,i){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,c,i)}),(function(e){n("throw",e,c,i)})):t.resolve(f).then((function(e){u.value=e,c(u)}),(function(e){return n("throw",e,c,i)}))}i(l.arg)}(n,o,a,c)}))}return a=a?a.then(c,c):c()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var c=r.delegate;if(c){var i=x(c,r);if(i){if(i===f)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,f;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,n(y,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=l(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,c,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var c=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?c:c.next().then((function(e){return e.done?e.value:c.next()}))},b(y),l(y,i,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=_,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return c.type="throw",c.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],c=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var i=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(i&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:_(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var _e=function(){var e=Object(ge.a)(be),t=Object(T.a)(e,1)[0];return Object(n.useEffect)((function(){function e(){return(e=Object(re.a)(Ne().mark((function e(){var r,n,a,o;return Ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C("cart","get");case 2:if(r=e.sent,!(n=r.map((function(e){return e._id}))).length){e.next=11;break}return e.next=7,t({variables:{products:n}});case 7:a=e.sent,o=a.data,o.addOrder.products.forEach((function(e){C("cart","delete",e)}));case 11:setTimeout((function(){window.location.assign("/")}),3e3);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),a.a.createElement("div",null,a.a.createElement(de,null,a.a.createElement("h1",null,"Success!"),a.a.createElement("h2",null,"Thank you for your purchase!"),a.a.createElement("h2",null,"You will now be redirected to the home page")))};var Le=function(){var e,t=Object(A.b)(K).data;return t&&(e=t.user),a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"container my-1"},a.a.createElement(l.b,{to:"/"},"\u2190 Back to Products"),e?a.a.createElement(a.a.Fragment,null,a.a.createElement("h2",null,"Order History for ",e.email),e.orders.map((function(e){return a.a.createElement("div",{key:e._id,className:"my-2"},a.a.createElement("h3",null,new Date(parseInt(e.purchaseDate)).toLocaleDateString()),a.a.createElement("div",{className:"flex-row"},e.products.map((function(e,t){var r=e._id,n=e.image,o=e.name,c=e.price;return a.a.createElement("div",{key:t,className:"card px-1 py-1"},a.a.createElement(l.b,{to:"/products/".concat(r)},a.a.createElement("img",{alt:o,src:"/images/".concat(n)}),a.a.createElement("p",null,o)),a.a.createElement("div",null,a.a.createElement("span",null,"$",c)))}))))}))):null))},ke=Object(s.a)({uri:"/graphql"}),Te=Object(d.a)((function(e,t){var r=t.headers,n=localStorage.getItem("id_token");return{headers:Object(i.a)(Object(i.a)({},r),{},{authorization:n?"Bearer ".concat(n):""})}})),Ae=new f.a({link:Te.concat(ke),cache:new m.a});var Ce=function(){return a.a.createElement(h.a,{client:Ae},a.a.createElement(l.a,null,a.a.createElement("div",null,a.a.createElement(F,null,a.a.createElement(L,null),a.a.createElement(u.c,null,a.a.createElement(u.a,{path:"/",element:a.a.createElement(g,null)}),a.a.createElement(u.a,{path:"/contact",element:a.a.createElement(y,null)}),a.a.createElement(u.a,{path:"/shop",element:a.a.createElement(ue,null)}),a.a.createElement(u.a,{path:"/about",element:a.a.createElement(w,null)}),a.a.createElement(u.a,{path:"/login",element:a.a.createElement(xe,null)}),a.a.createElement(u.a,{path:"/signup",element:a.a.createElement(je,null)}),a.a.createElement(u.a,{path:"/orderHistory",element:a.a.createElement(Le,null)}),a.a.createElement(u.a,{path:"/products/:id",element:a.a.createElement(se,null)}),a.a.createElement(u.a,{path:"/success",element:a.a.createElement(_e,null)}),a.a.createElement(u.a,{path:"*",element:a.a.createElement(pe,null)})),a.a.createElement(k,null)))))},Se=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Pe(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var r=e.installing;null!=r&&(r.onstatechange=function(){"installed"===r.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.createRoot(document.getElementById("root")).render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(Ce,null))),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");Se?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(r){var n=r.headers.get("content-type");404===r.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Pe(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Pe(t,e)}))}}()}},[[75,1,2]]]);
//# sourceMappingURL=main.6e978931.chunk.js.map